<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ–±—Ä–∞—Ç—å –ª–∞–Ω—á - LunchExpress</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="styles/validation.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/order.css">
    <link rel="stylesheet" href="styles/build-lunch.css">
    <link rel="stylesheet" href="styles/print.css" media="print">
    <style>
        .dishes-section {
            margin-bottom: 40px;
        }

        .dishes-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 40px;
        }

        .dish-card {
            display: flex;
            flex-direction: column;
            padding: 30px 40px;
            border-radius: 35px;
            cursor: pointer;
            filter: drop-shadow(17px 19px 24px rgba(0, 0, 0, 0.13));
            background-color: white;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .dish-card:hover {
            border-color: tomato;
        }

        .dish-card:hover .add-btn {
            background-color: tomato;
            color: white;
        }

        .dish-card.selected {
            border: 2px solid tomato;
        }

        .dish-card.selected .add-btn {
            background-color: tomato;
            color: white;
        }

        .dish-card img {
            width: 100%;
            border-radius: 35px;
            margin-bottom: 15px;
        }

        .dish-price {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .dish-name {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .dish-count {
            color: #666;
            margin-bottom: 15px;
        }

        .add-btn {
            background-color: #f1eee9;
            padding: 10px 30px;
            border-radius: 10px;
            cursor: pointer;
            border: none;
            font-family: 'Montserrat', sans-serif;
            font-size: 16px;
            margin-top: auto;
            transition: all 0.3s ease;
        }

        @media (max-width: 800px) {
            .dishes-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .dish-card {
                padding: 20px 25px;
            }
        }

        @media (max-width: 600px) {
            .dishes-grid {
                grid-template-columns: 1fr;
            }
            .dish-card {
                padding: 15px 20px;
            }
        }

        @media (max-width: 400px) {
            .order-category h3 {
                font-size: 16px;
            }
            .selected-item {
                padding: 8px 10px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <h1>LunchExpress</h1>
                <nav>
                    <ul class="nav-flex">
                        <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="build-lunch.html" class="active">–°–æ–±—Ä–∞—Ç—å –ª–∞–Ω—á</a></li>
                        <li><a href="order.html">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</a></li>
                        <li><a href="orders.html">–ú–æ–∏ –∑–∞–∫–∞–∑—ã</a></li>
                        <li><a href="index.html#feedback">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</a></li>
                        <li><a href="index.html#auth">–í—Ö–æ–¥</a></li>
                        <li><a href="index.html#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main class="container">
        <section id="soup-section" class="dishes-section">
            <h2>–°—É–ø—ã</h2>
            <div class="filters">
                <button class="filter-btn" data-kind="fish" data-category="soup">—Ä—ã–±–Ω—ã–π</button>
                <button class="filter-btn" data-kind="meat" data-category="soup">–º—è—Å–Ω–æ–π</button>
                <button class="filter-btn" data-kind="veg" data-category="soup">–≤–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∏–π</button>
                <button class="filter-btn active" data-kind="all" data-category="soup">–≤—Å–µ</button>
            </div>
            <div class="dishes-grid">
            </div>
        </section>

        <section id="main-section" class="dishes-section">
            <h2>–ì–ª–∞–≤–Ω—ã–µ –±–ª—é–¥–∞</h2>
            <div class="filters">
                <button class="filter-btn" data-kind="fish" data-category="main">—Ä—ã–±–Ω–æ–µ</button>
                <button class="filter-btn" data-kind="meat" data-category="main">–º—è—Å–Ω–æ–µ</button>
                <button class="filter-btn" data-kind="veg" data-category="main">–≤–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–æ–µ</button>
                <button class="filter-btn active" data-kind="all" data-category="main">–≤—Å–µ</button>
            </div>
            <div class="dishes-grid">
            </div>
        </section>

        <section id="drink-section" class="dishes-section">
            <h2>–ù–∞–ø–∏—Ç–∫–∏</h2>
            <div class="filters">
                <button class="filter-btn" data-kind="cold" data-category="drink">—Ö–æ–ª–æ–¥–Ω—ã–π</button>
                <button class="filter-btn" data-kind="hot" data-category="drink">–≥–æ—Ä—è—á–∏–π</button>
                <button class="filter-btn active" data-kind="all" data-category="drink">–≤—Å–µ</button>
            </div>
            <div class="dishes-grid">
            </div>
        </section>

        <section id="starter-section" class="dishes-section">
            <h2>–°–∞–ª–∞—Ç—ã –∏ —Å—Ç–∞—Ä—Ç–µ—Ä—ã</h2>
            <div class="filters">
                <button class="filter-btn" data-kind="fish" data-category="starter">—Ä—ã–±–Ω—ã–π</button>
                <button class="filter-btn" data-kind="meat" data-category="starter">–º—è—Å–Ω–æ–π</button>
                <button class="filter-btn" data-kind="veg" data-category="starter">–≤–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∏–π</button>
                <button class="filter-btn active" data-kind="all" data-category="starter">–≤—Å–µ</button>
            </div>

            <div class="dishes-grid" id="starter-dishes">
            </div>
        </section>

        <section id="dessert-section" class="dishes-section">
            <h2>–î–µ—Å–µ—Ä—Ç—ã</h2>

            <div class="filters">
                <button class="filter-btn" data-kind="small" data-category="dessert">–º–∞–ª–µ–Ω—å–∫–∞—è –ø–æ—Ä—Ü–∏—è</button>
                <button class="filter-btn" data-kind="medium" data-category="dessert">—Å—Ä–µ–¥–Ω—è—è –ø–æ—Ä—Ü–∏—è</button>
                <button class="filter-btn" data-kind="large" data-category="dessert">–±–æ–ª—å—à–∞—è –ø–æ—Ä—Ü–∏—è</button>
                <button class="filter-btn active" data-kind="all" data-category="dessert">–≤—Å–µ</button>
            </div>

            <div class="dishes-grid" id="dessert-dishes">
            </div>
        </section>
        <section class="dishes-section">
            <div id="comboInfo" style="display: none;">
                <h2>üéØ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–±–æ-–≤–∞—Ä–∏–∞–Ω—Ç—ã</h2>
                <p class="combo-description">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä –∏–ª–∏ —Å–æ–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π –ª–∞–Ω—á:</p>
                <div id="comboContainer" class="combo-container"></div>
            </div>
        </section>

        <div id="order-summary"></div>
    </main>
    <footer id="contacts">
        <div class="container">
            <div class="footer-content">
                <div class="contact-info">
                    <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <p>–ê–¥—Ä–µ—Å: –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è, –¥. 15</p>
                    <p>–¢–µ–ª–µ—Ñ–æ–Ω: <a href="tel:+74951234567">+7 (495) 123-45-67</a></p>
                    <p>Email: <a href="mailto:info@lunchexpress.ru">info@lunchexpress.ru</a></p>
                    <p>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: –ü–Ω-–ü—Ç —Å 9:00 –¥–æ 18:00</p>
                </div>
            </div>
        </div>
    </footer>


    <script src="js/api.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/validation.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            if (params.get('orderSuccess') === 'true') {
                console.log('–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω!');
                // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                window.suppressNotifications = true;
            }
            loadDishes().then(dishes => {
                console.log('–í—Å–µ–≥–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –±–ª—é–¥:', dishes.length);

                // –í—ã–∑—ã–≤–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–±–æ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –±–ª—é–¥
                if (window.displayComboInfo) {
                    setTimeout(window.displayComboInfo, 300);
                }
            }).catch(error => {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –±–ª—é–¥:', error);
            });
        });
    </script>
</body>
</html>